INFISICAL_CLIENT_ID=
INFISICAL_CLIENT_SECRET=

# Proxmox API Configuration
# Copy this file to .env and update with your actual values
# mise will automatically load these environment variables

# Proxmox connection
TF_VAR_pm_api_url="https://192.168.20.10:8006/api2/json"
TF_VAR_pm_api_token_id="root@pam!terraform"
TF_VAR_pm_api_token_secret="your-api-token-secret"
TF_VAR_pm_tls_insecure="true"

# Proxmox node and template
TF_VAR_pm_node="server"
TF_VAR_template_name="debian-13-cloudinit"
TF_VAR_template_vmid="9001"

# Storage and networking
TF_VAR_storage="local-lvm"
TF_VAR_bridge="vmbr0"
TF_VAR_gateway="192.168.20.1"
TF_VAR_nameserver="1.1.1.1"
TF_VAR_searchdomain="home.lab"

# Cloud-init user
TF_VAR_cloud_init_user="deployer"

# SSH public keys (JSON array format)
TF_VAR_ssh_public_keys='["ssh-ed25519 AAAAC3... your-email@example.com"]'

# =============================================================================
# Infisical Configuration
# =============================================================================
# Generate these secrets before applying:
#   openssl rand -hex 16          # for encryption_key
#   openssl rand -base64 32       # for auth_secret
#   openssl rand -base64 24       # for postgres_password

TF_VAR_infisical_postgres_db="infisical"
TF_VAR_infisical_postgres_user="infisical"
TF_VAR_infisical_postgres_password="generate-with-openssl-rand-base64-24"
TF_VAR_infisical_encryption_key="generate-with-openssl-rand-hex-16"
TF_VAR_infisical_auth_secret="generate-with-openssl-rand-base64-32"
TF_VAR_infisical_site_url="https://192.168.20.22:8443"

# Snippets storage (must have snippets content type enabled in Proxmox)
# Run on Proxmox: pvesm set local --content backup,iso,vztmpl,snippets
TF_VAR_snippets_storage="local"

# SSH user for Proxmox host (needed for uploading cloud-init snippets)
TF_VAR_pm_ssh_user="root"

# TLS certificates (optional - leave empty for no TLS)
# Generate with: mkcert infisical.local localhost 192.168.20.22
# Then: TF_VAR_infisical_tls_cert=$(cat infisical.local+2.pem)
# And:  TF_VAR_infisical_tls_key=$(cat infisical.local+2-key.pem)
TF_VAR_infisical_tls_cert=""
TF_VAR_infisical_tls_key=""
